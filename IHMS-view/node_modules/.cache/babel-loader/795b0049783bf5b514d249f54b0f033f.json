{"remainingRequest":"D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\src\\views\\user\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\src\\views\\user\\Main.vue","mtime":1746429478000},{"path":"D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746543375897},{"path":"D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1746543376599},{"path":"D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746543375897},{"path":"D:\\code\\project\\健康管理系统\\健康管理系统\\前端\\personal-heath-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1746543376907}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNsZWFyVG9rZW4gfSBmcm9tICJAL3V0aWxzL3N0b3JhZ2UuanMiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IFVzZXJNZW51IGZyb20gJ0AvY29tcG9uZW50cy9MZXZlbE1lbnUudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyTWFpbiIsCiAgY29tcG9uZW50czogewogICAgVXNlck1lbnUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySW5mbzoge30sCiAgICAgIGRhdGE6IHt9LAogICAgICBwd2RFbnRpdHk6IHsKICAgICAgICBvbGRQd2Q6ICcnLAogICAgICAgIG5ld1B3ZDogJycsCiAgICAgICAgYWdhaW5Qd2Q6ICcnCiAgICAgIH0sCiAgICAgIGRpYWxvZ09wZXJhaW9uOiBmYWxzZSwKICAgICAgZGlhbG9nUmV0UHdkT3BlcmFpb246IGZhbHNlLAogICAgICBmb29kTGlzdDogW10sCiAgICAgIHJvdXRlcnM6IFtdLAogICAgICBpc0NoZWNrRm9vZDogW10sCiAgICAgIGlzQ2hlY2tIZWFsdGhNb2RlbENvbmZpZzogW10sCiAgICAgIGhlYWx0aE1vZGVsQ29uZmlnOiBbXSwKICAgICAgc2VsZWNlZEZvb2RJbmRleDogMCwKICAgICAgc2VsZWNlZEhlYWx0aE1vZGVsSW5kZXg6IDAsCiAgICAgIGRpZXREaWFsb2c6IGZhbHNlLAogICAgICBoZWFsdGhNb2RlbENvbmZpZ0RpYWxvZzogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy50b2tlbkNoZWNrTG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaGVhbHRoTW9kZWxDaGFuZ2UoKSB7CiAgICAgIGNvbnN0IGhlYWx0aE1vZGVsID0gdGhpcy5oZWFsdGhNb2RlbENvbmZpZ1t0aGlzLnNlbGVjZWRIZWFsdGhNb2RlbEluZGV4IC0gMl07CiAgICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBoZWFsdGhNb2RlbC5pZCk7CiAgICAgIC8vIOWmguaenOS4jeWtmOWcqO+8jOWImea3u+WKoOaWsOmAieeahOWBpeW6t+mFjee9rumhuQogICAgICBpZiAoIWV4aXN0cykgewogICAgICAgIHRoaXMuaXNDaGVja0hlYWx0aE1vZGVsQ29uZmlnLnVuc2hpZnQoaGVhbHRoTW9kZWwpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCLmjIfmoIfpobnlt7Lnu4/mt7vliqAiKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVVzZXJQd2QoKSB7CiAgICAgIHRoaXMucmVzZXRQd2QoKTsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVVc2VySW5mbygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB1c2VyVXBkYXRlRFRPID0gewogICAgICAgICAgdXNlckF2YXRhcjogdGhpcy5kYXRhLnVybCwKICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLmRhdGEubmFtZSwKICAgICAgICAgIHVzZXJFbWFpbDogdGhpcy5kYXRhLmVtYWlsCiAgICAgICAgfTsKICAgICAgICBjb25zdCByZXNwb3NuZSA9IGF3YWl0IHRoaXMuJGF4aW9zLnB1dChgL3VzZXIvdXBkYXRlYCwgdXNlclVwZGF0ZURUTyk7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSByZXNwb3NuZTsKICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuZGlhbG9nT3BlcmFpb24gPSBmYWxzZTsKICAgICAgICAgIHRoaXMudG9rZW5DaGVja0xvYWQoKTsKICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiAn5L+u5pS55Liq5Lq65L+h5oGvJywKICAgICAgICAgICAgdGV4dDogZGF0YS5tc2csCiAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMTAwMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5kaWFsb2dPcGVyYWlvbiA9IGZhbHNlOwogICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZTogJ+S/ruaUueS4quS6uuS/oeaBr+W8guW4uCcsCiAgICAgICAgICB0ZXh0OiBlLAogICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5lcnJvcihg5L+u5pS55Liq5Lq65L+h5oGv5byC5bi4OiR7ZX1gKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHJlc2V0UHdkKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIG9sZFB3ZCwKICAgICAgICAgIG5ld1B3ZCwKICAgICAgICAgIGFnYWluUHdkCiAgICAgICAgfSA9IHRoaXMucHdkRW50aXR5OwogICAgICAgIGlmICghb2xkUHdkIHx8ICFuZXdQd2QgfHwgIWFnYWluUHdkKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKGDku7vmhI/pobnkuI3kuLrnqbpgKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKG5ld1B3ZCAhPT0gYWdhaW5Qd2QpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoYOWJjeWQjuWvhueggei+k+WFpeS4jeS4gOiHtGApOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBwd2REVE8gPSB7CiAgICAgICAgICBvbGRQd2Q6IHRoaXMuJG1kNSh0aGlzLiRtZDUob2xkUHdkKSksCiAgICAgICAgICBuZXdQd2Q6IHRoaXMuJG1kNSh0aGlzLiRtZDUobmV3UHdkKSkKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc3Bvc25lID0gYXdhaXQgdGhpcy4kYXhpb3MucHV0KGAvdXNlci91cGRhdGVQd2RgLCBwd2REVE8pOwogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzcG9zbmU7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLmRpYWxvZ1JldFB3ZE9wZXJhaW9uID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZTogJ+S/ruaUueWvhueggScsCiAgICAgICAgICAgIHRleHQ6IGRhdGEubXNnLAogICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdGltZXI6IDEwMDAKICAgICAgICAgIH0pOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGNsZWFyVG9rZW4oKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9sb2dpbmApOwogICAgICAgICAgfSwgMTIwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuZGlhbG9nT3BlcmFpb24gPSBmYWxzZTsKICAgICAgICB0aGlzLiRlcnJvcihkYXRhLm1zZyk7CiAgICAgICAgY29uc29sZS5lcnJvcihg5L+u5pS55a+G56CB5byC5bi4OiR7ZX1gKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIGlmIChyZXMuY29kZSAhPT0gMjAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihg5aS05YOP5LiK5Lyg5byC5bi4YCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyhg5aS05YOP5LiK5Lyg5oiQ5YqfYCk7CiAgICAgIHRoaXMuZGF0YS51cmwgPSByZXMuZGF0YTsKICAgIH0sCiAgICAvLyDnm5HlkKzoj5zljZXngrnlh7vkuovku7YKICAgIGV2ZW50TGlzdGVuZXIoZXZlbnQpIHsKICAgICAgLy8g5Liq5Lq65Lit5b+DCiAgICAgIGlmIChldmVudCA9PT0gJ2NlbnRlcicpIHsKICAgICAgICB0aGlzLmRpYWxvZ09wZXJhaW9uID0gIXRoaXMuZGlhbG9nT3BlcmFpb247CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOWvhueggemHjee9rgogICAgICBpZiAoZXZlbnQgPT09ICdyZXNldFB3ZCcpIHsKICAgICAgICB0aGlzLmRpYWxvZ1JldFB3ZE9wZXJhaW9uID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8g5pCc57SiCiAgICAgIGlmIChldmVudCA9PT0gJ3NlYXJjaC1kZXRhaWwnKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zZWFyY2gtZGV0YWlsJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOmAgOWHuueZu+W9lQogICAgICBpZiAoZXZlbnQgPT09ICdsb2dpbk91dCcpIHsKICAgICAgICB0aGlzLmxvZ2luT3V0T3BlcmF0aW9uKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOWBpeW6t+aMh+agh+iusOW9lQogICAgICBpZiAoZXZlbnQgPT09ICdoZWFsdGhEYXRhUmVjb3JkJykgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVjb3JkJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOWMu+eUn+WSqOivogogICAgICBpZiAoZXZlbnQgPT09ICdkb2N0b3JDb25zdWx0YXRpb24nKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9kb2N0b3ItY29uc3VsdGF0aW9uJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgbG9naW5PdXRPcGVyYXRpb24oKSB7CiAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IHRoaXMuJHN3YWxDb25maXJtKHsKICAgICAgICB0aXRsZTogJ+mAgOWHuueZu+W9lScsCiAgICAgICAgdGV4dDogYOmAgOWHuueZu+W9leWQju+8jOmcgOmHjeaWsOeZu+W9leaJjeiDveS9v+eUqOezu+e7n+WKn+iDvSFgLAogICAgICAgIGljb246ICd3YXJuaW5nJwogICAgICB9KTsKICAgICAgaWYgKGNvbmZpcm1lZCkgewogICAgICAgIC8vIOa4hemZpFRva2Vu77yM6Lev55Sx6Iez55m75b2V6aG1CiAgICAgICAgY2xlYXJUb2tlbigpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgfQogICAgfSwKICAgIC8vIFRva2Vu5qOA6aqMCiAgICBhc3luYyB0b2tlbkNoZWNrTG9hZCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoJ3VzZXIvYXV0aCcpOwogICAgICAgIC8vIOagoemqjOWksei0pQogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSA0MDApIHsKICAgICAgICAgIGNsZWFyVG9rZW4oKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgewogICAgICAgICAgaWQ6IHVzZXJJZCwKICAgICAgICAgIHVzZXJBdmF0YXIsCiAgICAgICAgICB1c2VyTmFtZSwKICAgICAgICAgIHVzZXJSb2xlLAogICAgICAgICAgdXNlckVtYWlsCiAgICAgICAgfSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgLy8g5bCG55So5oi35L+h5oGv5a2Y5YKo6LW35p2lCiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YS5kYXRhKSk7CiAgICAgICAgdGhpcy51c2VySW5mbyA9IHsKICAgICAgICAgIHVybDogdXNlckF2YXRhciwKICAgICAgICAgIG5hbWU6IHVzZXJOYW1lLAogICAgICAgICAgcm9sZTogdXNlclJvbGUsCiAgICAgICAgICBlbWFpbDogdXNlckVtYWlsCiAgICAgICAgfTsKICAgICAgICB0aGlzLmRhdGEgPSB7CiAgICAgICAgICAuLi50aGlzLnVzZXJJbmZvCiAgICAgICAgfTsKICAgICAgICAvLyDmoLnmja7op5LoibLop6PmnpDot6/nlLEKICAgICAgICBjb25zdCByb2xlUm91dGVLZXkgPSB1c2VyUm9sZSA9PT0gMSA/ICdhZG1pbicgOiAndXNlcic7CiAgICAgICAgY29uc3Qgcm9sZVJvdXRlID0gcm91dGVyLm9wdGlvbnMucm91dGVzLmZpbmQocm91dGUgPT4gcm91dGUucGF0aC5zdGFydHNXaXRoKGAvJHtyb2xlUm91dGVLZXl9YCkpOwogICAgICAgIGlmIChyb2xlUm91dGUpIHsKICAgICAgICAgIHRoaXMucm91dGVycyA9IHJvbGVSb3V0ZS5jaGlsZHJlbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcign5pyq6IO95om+5Yiw5a+55bqU6KeS6Imy55qE6Lev55Sx6YWN572uJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2Vu5qOA6aqM5pe25Y+R55Sf6ZSZ6K+vOicsIGVycm9yKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["clearToken","router","UserMenu","name","components","data","userInfo","pwdEntity","oldPwd","newPwd","againPwd","dialogOperaion","dialogRetPwdOperaion","foodList","routers","isCheckFood","isCheckHealthModelConfig","healthModelConfig","selecedFoodIndex","selecedHealthModelIndex","dietDialog","healthModelConfigDialog","created","tokenCheckLoad","methods","healthModelChange","healthModel","exists","some","item","id","unshift","console","log","updateUserPwd","resetPwd","updateUserInfo","userUpdateDTO","userAvatar","url","userName","userEmail","email","resposne","$axios","put","code","$swal","fire","title","text","msg","icon","showConfirmButton","timer","e","error","$message","pwdDTO","$md5","setTimeout","$router","push","$error","handleAvatarSuccess","res","file","success","eventListener","event","loginOutOperation","confirmed","$swalConfirm","get","userId","userRole","sessionStorage","setItem","JSON","stringify","role","roleRouteKey","roleRoute","options","routes","find","route","path","startsWith","children"],"sources":["src/views/user/Main.vue"],"sourcesContent":["<template>\n    <div class=\"user-container\">\n        <div class=\"menus-container\"\n            style=\"position: sticky;top: 0;z-index: 1000;background-color: rgb(255, 255, 255);\">\n            <!-- 菜单目录 -->\n            <UserMenu :menus=\"routers\" :userInfo=\"userInfo\" @eventListener=\"eventListener\" />\n        </div>\n        <div class=\"content-container\">\n            <!-- 路由出口 -->\n            <router-view class=\"route-container\"></router-view>\n        </div>\n        <!-- 个人中心弹窗 -->\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogOperaion\" width=\"30%\">\n            <div slot=\"title\" style=\"padding: 25px 0 0 20px;\">\n                <span style=\"font-size: 18px;font-weight: 800;\">个人中心</span>\n            </div>\n            <el-row style=\"padding: 10px 20px 20px 20px;\">\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*头像</span>\n                    </p>\n                    <el-upload class=\"avatar-uploader\" action=\"/api/personal-heath/v1.0/file/upload\"\n                        :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\">\n                        <img v-if=\"data.url\" :src=\"data.url\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                    </el-upload>\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;\">\n                        <span class=\"modelName\">*用户名</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"text\" v-model=\"data.name\" placeholder=\"用户名\">\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;\">\n                        <span class=\"modelName\">*个人邮箱</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"text\" v-model=\"data.email\" placeholder=\"用户名\">\n                </el-row>\n            </el-row>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                \n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(241, 241, 241);border: none;\"\n                    @click=\"dialogOperaion = false\">取 消</el-button>\n                <el-button size=\"small\" style=\"background-color: #15559a;border: none;\" class=\"customer\" type=\"info\"\n                    @click=\"updateUserInfo\">修改</el-button>\n            </span>\n        </el-dialog>\n        <!-- 重置密码 -->\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogRetPwdOperaion\" width=\"26%\">\n            <div slot=\"title\" style=\"padding: 25px 0 0 20px;\">\n                <span style=\"font-size: 18px;font-weight: 800;\">重置密码</span>\n            </div>\n            <el-row style=\"padding: 10px 20px 20px 20px;\">\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*原始密码</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.oldPwd\" placeholder=\"原始密码\">\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*新密码</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.newPwd\" placeholder=\"新密码\">\n                </el-row>\n                <el-row>\n                    <p style=\"font-size: 12px;padding: 3px 0;margin-bottom: 10px;\">\n                        <span class=\"modelName\">*确认密码</span>\n                    </p>\n                    <input class=\"modelInput\" type=\"password\" v-model=\"pwdEntity.againPwd\" placeholder=\"确认密码\">\n                </el-row>\n            </el-row>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button class=\"customer\" size=\"small\" style=\"background-color: rgb(241, 241, 241);border: none;\"\n                    @click=\"dialogRetPwdOperaion = false\">取 消</el-button>\n                <el-button size=\"small\" style=\"background-color: #15559a;border: none;\" class=\"customer\" type=\"info\"\n                    @click=\"updateUserPwd\">修改</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport { clearToken } from \"@/utils/storage.js\";\nimport router from \"@/router\";\nimport UserMenu from '@/components/LevelMenu.vue';\nexport default {\n    name: \"UserMain\",\n    components: {\n        UserMenu\n    },\n    data() {\n        return {\n            userInfo: {},\n            data: {},\n            pwdEntity: { oldPwd: '', newPwd: '', againPwd: '' },\n            dialogOperaion: false,\n            dialogRetPwdOperaion: false,\n            foodList: [],\n            routers: [],\n            isCheckFood: [],\n            isCheckHealthModelConfig: [],\n            healthModelConfig: [],\n            selecedFoodIndex: 0,\n            selecedHealthModelIndex: 0,\n            dietDialog: false,\n            healthModelConfigDialog: false\n        };\n    },\n    created() {\n        this.tokenCheckLoad();\n    },\n    methods: {\n        healthModelChange() {\n            const healthModel = this.healthModelConfig[this.selecedHealthModelIndex - 2];\n            const exists = this.isCheckHealthModelConfig.some(item => item.id === healthModel.id);\n            // 如果不存在，则添加新选的健康配置项\n            if (!exists) {\n                this.isCheckHealthModelConfig.unshift(healthModel);\n            } else {\n                console.log(\"指标项已经添加\");\n            }\n        },\n        updateUserPwd() {\n            this.resetPwd();\n        },\n        async updateUserInfo() {\n            try {\n                const userUpdateDTO = {\n                    userAvatar: this.data.url,\n                    userName: this.data.name,\n                    userEmail: this.data.email\n                }\n                const resposne = await this.$axios.put(`/user/update`, userUpdateDTO);\n                const { data } = resposne;\n                if (data.code === 200) {\n                    this.dialogOperaion = false;\n                    this.tokenCheckLoad();\n                    this.$swal.fire({\n                        title: '修改个人信息',\n                        text: data.msg,\n                        icon: 'success',\n                        showConfirmButton: false,\n                        timer: 1000,\n                    });\n                }\n            } catch (e) {\n                this.dialogOperaion = false;\n                this.$swal.fire({\n                    title: '修改个人信息异常',\n                    text: e,\n                    icon: 'error',\n                    showConfirmButton: false,\n                    timer: 2000,\n                });\n                console.error(`修改个人信息异常:${e}`);\n            }\n        },\n        async resetPwd() {\n            try {\n                const { oldPwd, newPwd, againPwd } = this.pwdEntity;\n                if (!oldPwd || !newPwd || !againPwd) {\n                    this.$message(`任意项不为空`);\n                    return;\n                }\n                if (newPwd !== againPwd) {\n                    this.$message(`前后密码输入不一致`);\n                    return;\n                }\n                const pwdDTO = {\n                    oldPwd: this.$md5(this.$md5(oldPwd)),\n                    newPwd: this.$md5(this.$md5(newPwd))\n                }\n                const resposne = await this.$axios.put(`/user/updatePwd`, pwdDTO);\n                const { data } = resposne;\n                if (data.code === 200) {\n                    this.dialogRetPwdOperaion = false;\n                    this.$swal.fire({\n                        title: '修改密码',\n                        text: data.msg,\n                        icon: 'success',\n                        showConfirmButton: false,\n                        timer: 1000,\n                    });\n                    setTimeout(() => {\n                        clearToken();\n                        this.$router.push(`/login`);\n                    }, 1200)\n                } else {\n                    this.$message.error(data.msg);\n                }\n            } catch (e) {\n                this.dialogOperaion = false;\n                this.$error(data.msg);\n                console.error(`修改密码异常:${e}`);\n            }\n        },\n        handleAvatarSuccess(res, file) {\n            if (res.code !== 200) {\n                this.$message.error(`头像上传异常`);\n                return;\n            }\n            this.$message.success(`头像上传成功`);\n            this.data.url = res.data;\n        },\n        // 监听菜单点击事件\n        eventListener(event) {\n            // 个人中心\n            if (event === 'center') {\n                this.dialogOperaion = !this.dialogOperaion;\n                return;\n            }\n            // 密码重置\n            if (event === 'resetPwd') {\n                this.dialogRetPwdOperaion = true;\n                return;\n            }\n            // 搜索\n            if (event === 'search-detail') {\n                this.$router.push('/search-detail');\n                return;\n            }\n            // 退出登录\n            if (event === 'loginOut') {\n                this.loginOutOperation();\n                return;\n            }\n            // 健康指标记录\n            if (event === 'healthDataRecord') {\n                this.$router.push('/record');\n                return;\n            }\n            // 医生咨询\n            if (event === 'doctorConsultation') {\n                this.$router.push('/doctor-consultation');\n                return;\n            }\n        },\n        async loginOutOperation() {\n            const confirmed = await this.$swalConfirm({\n                title: '退出登录',\n                text: `退出登录后，需重新登录才能使用系统功能!`,\n                icon: 'warning',\n            });\n            if (confirmed) { // 清除Token，路由至登录页\n                clearToken();\n                this.$router.push('/login');\n            }\n        },\n        // Token检验\n        async tokenCheckLoad() {\n            try {\n                const res = await this.$axios.get('user/auth');\n                // 校验失败\n                if (res.data.code === 400) {\n                    clearToken();\n                    this.$message.error(res.data.msg);\n                    this.$router.push('/login');\n                    return;\n                }\n                const { id: userId, userAvatar, userName, userRole, userEmail } = res.data.data;\n                // 将用户信息存储起来\n                sessionStorage.setItem('userInfo', JSON.stringify(res.data.data));\n                this.userInfo = {\n                    url: userAvatar,\n                    name: userName,\n                    role: userRole,\n                    email: userEmail\n                };\n                this.data = { ...this.userInfo };\n                // 根据角色解析路由\n                const roleRouteKey = userRole === 1 ? 'admin' : 'user';\n                const roleRoute = router.options.routes.find(route => route.path.startsWith(`/${roleRouteKey}`));\n                if (roleRoute) {\n                    this.routers = roleRoute.children;\n                } else {\n                    console.error('未能找到对应角色的路由配置');\n                }\n            } catch (error) {\n                console.error('Token检验时发生错误:', error);\n            }\n        }\n    },\n};\n</script>\n<style scoped lang=\"scss\">\n#nutrition-select {\n    margin: 10px;\n    padding: 5px;\n    font-size: 16px;\n    border: none;\n    outline: none;\n    width: 60%;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.6);\n}\n\n.removeFood {\n    color: rgba(0, 0, 0, 0.6);\n    user-select: none;\n    cursor: pointer;\n    display: inline-block;\n    margin-top: 10px;\n}\n\n.removeFood:hover {\n    color: #1c1c1c;\n}\n\nlabel {\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.6);\n}\n\n.content-container {\n    padding: 10px 120px;\n    box-sizing: border-box;\n    min-height: calc(100vh - 120px);\n    overflow-x: hidden;\n}\n\n.modelInput {\n    outline: none;\n    border: none;\n    font-size: 22px;\n    width: 60%;\n    font-weight: 800;\n}\n\n.avatar {\n    width: 88px;\n    height: 88px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}